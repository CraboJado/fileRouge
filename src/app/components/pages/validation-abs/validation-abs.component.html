<app-sub-nav></app-sub-nav>
<section class="container col-xl-12 col-xxl-12 py-5">
  <table class="table">
    <thead>
      <tr>
        <th scope="col">Nom</th>
        <th scope="col">Date creation</th>
        <th scope="col">Date d√©but</th>
        <th scope="col">Date fin</th>
        <th scope="col">Type</th>
        <th scope="col">Motif</th>
        <th scope="col">Statut</th>
        <th scope="col">Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let absence of absences">
        <th scope="row"> {{absence.employe?.lastName}} {{absence.employe?.firstName}}</th>
        <td>{{absence.dateCreation}}</td>
        <td>{{absence.dateDebut}}</td>
        <td>{{absence.dateFin}}</td>
        <td>{{absence.typeAbsence}}</td>
        <td>{{absence.motif}}</td>
        <td>{{absence.statut}}</td>


        <td>
          <button type="submit" class="btn btn-outline-success me-2" (click)="validStatut(absence)"
            *ngIf="absence.statut =='INITIALE'">
            <i class="bi bi-check-lg text-success"> </i>
          </button>

          <i class="bi bi-check-lg text-success" *ngIf="absence.statut=='VALIDEE'"></i>

          <button type="submit" class="btn btn-outline-danger" (click)="rejectStatut(absence)"
            *ngIf="absence.statut=='INITIALE'">
            <i class="bi bi-x-lg text-danger"> </i>
          </button>

          <i class="bi bi-x-lg text-danger" *ngIf="absence.statut =='REJETEE'">
          </i>
          <button type="submit" class="btn btn-outline-black ms-3" (click)="eraseStatut(absence)">
            <i class="bi bi-eraser"></i>
          </button>
        </td>
      </tr>
    </tbody>
  </table>
  <div class="d-flex justify-content-center">
    <button class="me-1" type="submit" class="btn btn-outline-dark" (click)="updateAbs()">
      Envoyer
    </button>
  </div>
  <div *ngIf="errorMessage" class="alert alert-danger mt-3 text-center">
    <p>{{ errorMessage }}</p>
  </div>
  <div *ngIf="okMessage" class="alert alert-success mt-3 text-center">{{ okMessage }}</div>


</section>